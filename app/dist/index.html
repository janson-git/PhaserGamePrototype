<!DOCTYPE html>
<html>
<head>
<!--    <script src="/lib/phaser.min.js"></script>-->
</head>
<body>

<div id="content"></div>
<script src="/vendors.app.bundle.js"></script>
<script src="/app.bundle.js"></script>

<script>
//     let config = {
//         type: Phaser.AUTO,
//         width: 800,
//         height: 600,
//         // TODO: разобраться с настройками физики
//         physics: {
//             default: 'arcade',
//             arcade: {
//                 gravity: { y: 0 },
//                 debug: true
//             }
//         },
//         scene: {
//             preload: preload,
//             create: create,
//             update: update
//         },
//         backgroundColor: '#ffffff'
//     };
//
//     const game = new Phaser.Game(config);
//     let player;
//     let player2;
//     let cursors;
//

//
//
//     function preload() {
//         this.load.setBaseURL();
//         this.load.atlas(
//             'red_boat',
//             'assets/atlas/boatsSpriteListTransparent.png',
//             'assets/atlas/redBoatSpriteListConfig.json'
//         );
//     }
//
//     function create() {
//         let atlasTexture = this.textures.get('red_boat');
//         let frames = atlasTexture.getFrameNames();
// console.log(frames);
//         let x = 0;
//         let y = 100;
//         for (let i = 0; i < frames.length; i++)
//         {
//             x += 30;
//             this.add.image(x, y, 'red_boat', frames[i]);
//         }
//
//         x = 0;
//         y = 200;
//         for (let i = 0; i < frames.length; i++)
//         {
//             x += 30;
//             let img = this.add.image(x, y, 'red_boat', frames[i]);
//             img.flipX = true;
//         }
//
//
//         // create the player sprite
//         player = this.physics.add.sprite(200, 300, 'red_boat');
//         // player.setBounce(0.2); // our player will bounce from items
//         player.setCollideWorldBounds(true); // don't go out of the map
//
//         let PlayerObj = new Phaser.Class({
//             direction: 0,
//             Extends: Phaser.Physics.Arcade.ArcadeSprite,
//
//             initialize:
//
//                 function PlayerObj (scene, x, y)
//                 {
//                     this.direction = 0;
//                     Phaser.Physics.Arcade.ArcadeSprite.call(this, scene, x, y, 'red_boat', 'red_boat_0');
//                 },
//
//             update: function () {
//                 if (cursors.left.isDown) {
//                     this.direction -= 4;
//                     if (this.direction < 0) {
//                         this.direction = 360;
//                     }
//                 } else if (cursors.right.isDown) {
//                     this.direction += 4;
//                     if (this.direction > 360) {
//                         this.direction = 0;
//                     }
//                 }
//
//                 // console.log(this.direction);
//                 let config = getPlayerSpriteByDirection(this, this.direction);
//                 this.animations.play('idle');
//             }
//
//         });
//
//         player2 = this.add.existing(new PlayerObj(this, 240, 290));
//
//         this.anims.add({
//             key: 0,
//             frames: ['red_boat_0'],
//         });
//
//         // collide with ground
//         // this.physics.add.collider(groundLayer, player);
//
//         cursors = this.input.keyboard.createCursorKeys();
//     }
//
//     function update() {
//         if (cursors.down.isDown || cursors.space.isDown) {
//             if (player.body.velocity > 0) {
//                 player.body.setVelocityX(player.body.velocity - 5);
//             }
//         } else if (cursors.up.isDown) {
//             if (player.body.velocity < 500) {
//                 player.body.setVelocityX(player.body.velocity + 5);
//             }
//         }
//         // if (cursors.left.isDown) {
//         //     player.body.setVelocityX(-200);
//         // } else if (cursors.right.isDown) {
//         //     player.body.setVelocityX (200);
//         // } else {
//         //     player.body.setVelocityX(0);
//         // }
//
//         if (cursors.left.isDown) {
//             player.body.setAngularVelocity(-300);
//         } else if (cursors.right.isDown) {
//             player.body.setAngularVelocity(300);
//         } else {
//             player.body.setAngularVelocity(0);
//         }
//
//         // Текущий угол направления игрока
//         let angleDegree = player.body.rotation;
//         // player.body.physics.sprite()
// // console.log(angleDegree);
//         // player.frame = player.texture.get(this.direction.offset + this.f);
//         player.frame = getPlayerSpriteByDirection(player, angleDegree);
//
//         player2.update();
//     }
</script>

</body>
</html>